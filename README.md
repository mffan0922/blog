## [è¯²ä¹‹çš„åšå®¢](https://blog.rustle.cc)

æœ¬åšå®¢æ˜¯ä»[é»„ç„çš„åšå®¢](https://github.com/Huxpro/huxpro.github.io)å€Ÿé‰´ä¿®æ”¹è€Œæ¥ï¼Œæœ€åŸå§‹çš„åšå®¢æ¨¡æ¿æ˜¯[clean blog jekyll](https://github.com/StartBootstrap/startbootstrap-clean-blog-jekyll)ï¼Œä¸ªäººè®¤ä¸ºï¼Œåšå®¢æ•´ä½“é£æ ¼æ˜¯å¾ˆæ£’çš„ï¼Œå¯¹äºå¹¶ä¸æ˜¯å‰ç«¯çš„å°ç™½æ¥è®²ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“ä¸Šæ‰‹ï¼Œé€‚åˆæŠ˜è…¾ä¸€ä¸‹ï¼Œä¸è¿‡æ ¹ç»åšä¸»è‡ªå·±çš„ç»éªŒè¿˜æ˜¯å…ˆæ‰“å¥½åŸºç¡€å†å»æŠ˜è…¾ï¼Œä¼šæ¯”è¾ƒä¸èµ°å¼¯è·¯ï¼Œä¸ä¼šæµªè´¹è¿‡å¤šçš„æ—¶é—´ã€‚

## User Manual ğŸ‘‰

æ„å»ºä¸€ä¸ª[Jekyll](https://jekyllrb.com/)åšå®¢ç½‘ç«™ï¼Œéœ€è¦çš„ä¸œè¥¿æœ‰ï¼Œä¸€å°æœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨ï¼Œä¸€ä¸ªæœ‰æ‰€å±æƒçš„åŸŸåï¼Œä»¥åŠå¿…è¦çš„è½¯ä»¶ç¯å¢ƒï¼Œæ¯”å¦‚jekyllæ‰€ä¾èµ–çš„rubyç¯å¢ƒï¼Œjekyllä¸»ç¨‹åºï¼Œä»¥åŠwebæœåŠ¡å™¨ï¼ˆNginxæˆ–è€…Apacheï¼‰ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥æ„é€ ï¼Œlet's start~

#### ä¸€ä¸ªVPSæœåŠ¡å™¨

æŒ‰ç…§æ­¥éª¤ï¼Œé¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªVPSæœåŠ¡å™¨ï¼Œæ ¹æ®åŸŸåæ˜¯å¦å·²ç»å¤‡æ¡ˆå¯ä»¥é€‰æ‹©å›½å†…æˆ–è€…å›½å¤–çš„ï¼ŒçŸ¥åçš„å›½å†…VPSæœåŠ¡å™¨å‚å•†æœ‰[é˜¿é‡Œäº‘](https://www.aliyun.com/)çš„ECSï¼Œ[è…¾è®¯äº‘](https://cloud.tencent.com/)çš„CVMï¼Œ[å¤©ç¿¼äº‘](https://www.ctyun.cn/portal/)çš„EVMï¼Œè¿˜æœ‰[UCloud](https://www.ucloud.cn/)ï¼ŒåŠ æ‹¿å¤§çš„[BandwagonHost](https://bwh81.net/)ï¼Œç¾å›½çš„[vultr](https://www.vultr.com/)ä»¥åŠ[Linode](https://www.linode.com/)ç­‰ç­‰ï¼Œå…·ä½“å¦‚ä½•å¼€é€šä¸åœ¨æ­¤è®°å½•ã€‚

#### ä¸€ä¸ªç”¨æœ‰æ‰€å±æƒçš„åŸŸå

åŸŸåï¼ˆDomain Nameï¼‰åˆç§°ç½‘åŸŸï¼Œæ˜¯ç”±ä¸€ä¸²ç”¨ç‚¹åˆ†éš”çš„åå­—ç»„æˆçš„Internetä¸ŠæŸä¸€å°è®¡ç®—æœºæˆ–è®¡ç®—æœºç»„çš„åç§°ï¼Œç”¨äºåœ¨æ•°æ®ä¼ è¾“æ—¶å¯¹è®¡ç®—æœºçš„å®šä½æ ‡è¯†ï¼ˆæœ‰æ—¶ä¹ŸæŒ‡åœ°ç†ä½ç½®ï¼‰ã€‚åŸŸåçš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³IPä¸å¥½è®°å¿†çš„é—®é¢˜ï¼Œä½¿ç”¨åŸŸåçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªIPä¸Šæ„å»ºä¸åŒçš„ç½‘ç«™ã€‚å’ŒVPSä¸€æ ·ï¼ŒåŸŸåæ˜¯éœ€è¦è´­ä¹°çš„ï¼Œå›½å†…å›½å¤–å‡æœ‰ï¼ŒåŸºäºç»´æŠ¤çš„æˆæœ¬ï¼Œå›½å†…æ˜¯æ¯”è¾ƒæ–¹é¢çš„ï¼ŒåŸŸåæä¾›å•†ä¹Ÿæ˜¯å‚è€ƒVPSæä¾›å•†å³å¯ã€‚

è´­ä¹°å®ŒåŸŸåä¹‹åï¼Œéœ€è¦è®¾ç½®è§£æï¼Œå³å“ªä¸€ä¸ªåŸŸåè¦è§£æåˆ°å“ªä¸€ä¸ªIPä¸Š

![](https://blog.rustle.cc/img/domain.png)

#### Jekyllç¯å¢ƒ

æ¥ä¸‹æ¥é…ç½®Jekyllç¯å¢ƒï¼ŒJekyllæ˜¯ä¸€ä¸ªé™æ€ç½‘é¡µç”Ÿæˆå™¨ï¼Œè¯ç”Ÿä¹‹åˆï¼Œç½‘ç»œä¸Šä¹Ÿå……æ–¥ç€å…³äºé™æ€ç½‘é¡µåšå®¢çš„å„ç§è®¨è®ºå’Œäº‰æ‰§ï¼Œä¸è¿‡ç°åœ¨çœ‹æ¥ï¼Œä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰äº†ã€‚ä»–å°±æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå†…å®¹æ‰æ˜¯æ ¸å¿ƒã€‚Jekyllæ˜¯ä¾èµ–rubyç¯å¢ƒçš„ï¼Œå¤§å¤šæ•°äººå¯èƒ½æ²¡æœ‰å¬è¯´è¿‡è¿™ä¸ªç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘ä¹Ÿä»…ä»…æ˜¯å¬è¿‡è€Œå·²ã€‚ä¸è¿‡è¿™å¹¶ä¸å½±å“æˆ‘ä»¬ä½¿ç”¨ï¼Œå› ä¸ºåªè¦å®‰è£…å¥½ç¯å¢ƒï¼Œå…¶ä»–æ—¶é—´æˆ‘åªéœ€è¦ä¸Markdownæ‰“äº¤é“ã€‚å¦‚ä¸‹æ˜¯å®‰è£…ç¯å¢ƒçš„ä¸»è¦å‘½ä»¤ï¼ˆUbuntuç¯å¢ƒä¸‹ï¼‰ï¼Œåœ¨Debianå’ŒRedhatä¸‹å®‰è£…çš„æ—¶å€™æ‰€éœ€è¦çš„ä¾èµ–æ˜¯ä¸åŒçš„ï¼Œè¿™é‡Œä¸è¯¦ç»†çš„è®°å½•ï¼Œä¸»è¦æ˜¯çœ‹æŠ¥é”™æ—¥å¿—ï¼Œç¼ºå°‘å“ªä¸ªä¾èµ–ï¼Œå®‰è£…ä¸Šå³å¯ã€‚

```bash
[root@rustle ~]$ apt install ruby ruby-dev
[root@rustle ~]$ gem install jekyll bundler
[root@rustle ~]$ bundle install
[root@rustle ~]$ jekyll build
```

#### web æœåŠ¡å™¨ç¯å¢ƒ

ç›®å‰ä¸»æµçš„webæœåŠ¡å™¨æœ‰nginxå’Œapacheä¸¤ç§ï¼Œè¿™é‡Œä½¿ç”¨nginxä¸ºä¾‹æ¥åšæ¼”ç¤ºï¼Œå¦‚ä¸‹æ˜¯å®‰è£…é…ç½®è¿‡ç¨‹

```bash
# install nginx
[root@rustle ~]$ wget http://nginx.org/download/nginx-1.20.2.tar.gz
[root@rustle ~]$ tar -xzf nginx-1.20.2.tar.gz && cd nginx-1.20.2
[root@rustle nginx-1.20.2]$ ./configure --with-http_ssl_module && make && make install
...
[root@rustle nginx-1.20.2]$ ln -s /usr/local/nginx/sbin/nginx /usr/sbin/nginx

# configure sercice
[root@rustle ~]$ systemctl enable nginx.service
[root@rustle ~]$ systemctl disable nginx.service
[root@rustle ~]$ systemctl start nginx.service
[root@rustle ~]$ systemctl stop nginx.service
[root@rustle ~]$ systemctl restart nginx.service
[root@rustle ~]$ systemctl status nginx.service
```

å¦‚ä¸‹æ˜¯nginx.serviceçš„æŠŠå†…å®¹ï¼Œå°†è¯¥æ–‡ä»¶æ”¾åœ¨/lib/systemd/system/ï¼Œå¯æ‰§è¡Œå¦‚ä¸Šçš„nginxçš„å¯åŠ¨ï¼Œåœæ­¢ï¼Œé‡è½½ç­‰å‘½ä»¤ï¼š

```text
---------------------------------------------------------------------------------------
[Unit]
Description=nginx
After=network.target
  
[Service]
Type=forking
ExecStart=/usr/local/nginx/sbin/nginx -c /opt/websites/conf/rustle.cc.conf
ExecReload=/usr/local/nginx/sbin/nginx -s reload
ExecStop=/usr/local/nginx/sbin/nginx -s quit
PrivateTmp=true
  
[Install]
WantedBy=multi-user.target
---------------------------------------------------------------------------------------
```

æœ€åæ˜¯ä¿®æ”¹nginxåŸŸåçš„é…ç½®æ–‡ä»¶ï¼Œä½ç½®ä¸€èˆ¬åœ¨/usr/local/nginx/conf/nginx.confï¼Œå¦‚æœæ˜¯ä½¿ç”¨aptæˆ–è€…yumè¿™ç§åœ¨çº¿å·¥å…·å®‰è£…çš„nginxï¼Œé‚£ä¹ˆé…ç½®æ–‡ä»¶åœ¨/etc/nginx/conf/nginx.confï¼Œä¿®æ”¹å¥½é‡æ–°è¿è¡ŒnginxæœåŠ¡å³å¯ã€‚

#### é…ç½®è¯ä¹¦ï¼ˆå¯é€‰ï¼‰

å¦‚ä¸‹æ˜¯ç”³è¯·Let's Encryptå…è´¹è¯ä¹¦çš„å‘½ä»¤è¡Œæ–¹æ³•ï¼Œåªé€‚ç”¨äºç”³è¯·å•è¯ä¹¦ã€‚å½“åŸŸåå¢åŠ çš„æ—¶å€™åªéœ€è¦é‡æ–°æ‰§è¡Œæœ€åä¸€è¡Œå³å¯ï¼ŒLet's Encryptè¯ä¹¦æœ‰æ•ˆæœŸæ˜¯3ä¸ªæœˆï¼Œå¯ä»¥ä½¿ç”¨`certbot renew --dry-run`å‘½ä»¤å®ç°è‡ªåŠ¨ç»­æœŸï¼š

```bash
[ 0 root@rustle ~]$ yum install epel-release
[ 0 root@rustle ~]$ yum upgrade
[ 0 root@rustle ~]$ yum install snapd
[ 0 root@rustle ~]$ systemctl enable --now snapd.socket
[ 0 root@rustle ~]$ ln -s /var/lib/snapd/snap /snap
[ 0 root@rustle ~]$ snap install core
[ 0 root@rustle ~]$ snap refresh core
[ 0 root@rustle ~]$ snap install --classic certbot
[ 0 root@rustle ~]$ ln -s /snap/bin/certbot /usr/bin/certbot
[ 0 root@rustle ~]$ certbot --nginx-server-root /usr/local/nginx/conf
```

#### æ•ˆæœå›¾

![](https://blog.rustle.cc/img/blog_screenshot.jpg)

## Reference

 * Jekyll å®˜æ–¹ç«™ç‚¹ï¼šhttps://jekyllrb.com/
 * é»„ç„çš„åšå®¢ï¼šhttps://github.com/Huxpro/huxpro.github.io

## License

<img src="https://img.shields.io/github/license/mffan0922/wiki" data-origin="https://img.shields.io/github/license/mffan0922/wiki" alt=""> Apache License 2.0
Copyright (c) 2022-present Manford Fan

æœ¬åšå®¢æ˜¯ä»[é»„ç„çš„åšå®¢](https://github.com/Huxpro/huxpro.github.io)å€Ÿé‰´ä¿®æ”¹è€Œæ¥ï¼Œæœ€åŸå§‹çš„åšå®¢æ¨¡æ¿æ˜¯[clean blog jekyll](https://github.com/StartBootstrap/startbootstrap-clean-blog-jekyll)ï¼Œå¼•ç”¨å€Ÿé‰´è¯·æ³¨æ˜åŸå§‹å‡ºå¤„ã€‚

